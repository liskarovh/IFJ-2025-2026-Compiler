AST_ROOT
|
+-- IMPORT (path: "ifj25", alias: "Ifj")
|
+-- CLASS_LIST
    |
    +-- CLASS (obsahující blok kódu)
        |
        +-- BLOCK (current: ast_function "main")
            |
            +-- FUNCTION (name: "main")
            |   |
            |   +-- CODE (spojový seznam ast_block)
            |       |
            |       +-- BLOCK (current: NODE "Ifj.write(...)")
            |           |
            |           +-- NODE (type: AST_EXPRESSION)
            |           |   |
            |           |   +-- expression: EXPR (type: AST_FUNCTION_CALL)
            |           |       |
            |           |       +-- name: "Ifj.write"
            |           |       +-- (parametry zde nejsou explicitně v AST, pouze jejich počet)
            |           |
            |           +-- NEXT_BLOCK (current: NODE "var inp")
            |               |
            |               +-- NODE (type: AST_VARIABLE_DECLARATION)
            |               |   |
            |               |   +-- declaration.name: "inp"
            |               |
            |               +-- NEXT_BLOCK (current: NODE "inp = ...")
            |                   |
            |                   +-- NODE (type: AST_ASSIGNMENT)
            |                   |   |
            |                   |   +-- assignment.name: "inp"
            |                   |   +-- assignment.value: EXPR (type: AST_FUNCTION_CALL, name: "Ifj.read_num")
            |                   |
            |                   +-- NEXT_BLOCK (current: NODE "if (inp != null)...")
            |                       |
            |                       +-- NODE (type: AST_BRANCH)
            |                       |   |
            |                       |   +-- condition.condition: EXPR (type: AST_NOT_EQUAL)
            |                       |   |   |
            |                       |   |   +-- left: EXPR (type: AST_IDENTIFIER, value: "inp")
            |                       |   |   +-- right: EXPR (type: AST_NIL)
            |                       |   |
            |                       |   +-- condition.if_branch: (spojový seznam bloků pro 'then')
            |                       |   |   |
            |                       |   |   +-- BLOCK (current: NODE "if (inp < 0)...")
            |                       |   |       |
            |                       |   |       +-- NODE (type: AST_BRANCH)
            |                       |   |           |
            |                       |   |           +-- condition: EXPR(type: AST_LT, left: ID("inp"), right: INT("0"))
            |                       |   |           +-- if_branch: ...
            |                       |   |           +-- else_branch: ...
            |                       |   |
            |                       |   +-- condition.else_branch: (spojový seznam bloků pro 'else')
            |                       |       |
            |                       |       +-- BLOCK (current: NODE "Ifj.write(...)")
            |                       |           |
            |                       |           +-- NODE (type: AST_EXPRESSION, expression: EXPR(type: AST_FUNCTION_CALL, name: "Ifj.write"))
            |                       |           +-- NEXT_BLOCK: NULL
            |
            +-- NEXT_CLASS (obsahující funkci factorial)
                |
                +-- BLOCK (current: ast_function "factorial")
                    |
                    +-- FUNCTION (name: "factorial")
                    |   |
                    |   +-- CODE (spojový seznam ast_block)
                    |       |
                    |       +-- BLOCK (current: NODE "var result")
                    |       |   |
                    |       |   +-- NODE (type: AST_VARIABLE_DECLARATION, declaration.name: "result")
                    |       |
                    |       +-- NEXT_BLOCK (current: NODE "if (n < 2)...")
                    |       |   |
                    |       |   +-- NODE (type: AST_BRANCH)
                    |       |       |
                    |       |       +-- condition: EXPR(type: AST_LT, left: ID("n"), right: INT("2"))
                    |       |       +-- if_branch:
                    |       |       |   |
                    |       |       |   +-- BLOCK(current: NODE "result = 1")
                    |       |       |       |
                    |       |       |       +-- NODE(type: AST_ASSIGNMENT, name: "result", value: INT("1"))
                    |       |       |
                    |       |       +-- else_branch:
                    |       |           |
                    |       |           +-- BLOCK(current: NODE "var decremented_n")
                    |       |           +-- NEXT_BLOCK(current: NODE "decremented_n = n - 1")
                    |       |           +-- NEXT_BLOCK(current: NODE "result = factorial(...)")
                    |       |           +-- NEXT_BLOCK(current: NODE "result = n * result")
                    |       |
                    |       +-- NEXT_BLOCK (current: NODE "return result")
                    |           |
                    |           +-- NODE (type: AST_RETURN)
                    |               |
                    |               +-- return_expr.output: EXPR (type: AST_IDENTIFIER, value: "result")
                    |
                    +-- NEXT_CLASS: NULL
